<!DOCTYPE html>
<html>
  <head>
    <title>Place details</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 100%;
      }
    </style>
    
    
    
     <div id="page-wrapper">

        <h3>Text File Reader</h3>
        <div>
            Select a text file: 
            <input type="file" id="fileInput">
        </div>
        <pre id="fileDisplayArea"><pre>

    </div>
    
    
    
    <!-- JS part -->
<script>

   var atlanta = { lat: 33.7550, lng: -84.3900 };
   var atlanta2 = { lat: 33.80, lng: -84.400 };
	
function initMap() {
/*
   var map = new google.maps.Map(document.getElementById('map'), {
    zoom: 10,
    center: atlanta
  });
  var merchants = [atlanta, atlanta2];
  

  for (var i = 0; i < merchants.length; i++){
    addMarker(merchants[i], map, '<h2>' + 'testing' + '</h2>' + '<p>' + 'hi');
  }
*/
}


// Adds a marker to the map.
function addMarker(location, map, contentString) {


  var marker = new google.maps.Marker({
    position: location,
  //  label: labels[labelIndex++ % labels.length],
    map: map
  });
  
  
  // info window
      var infowindow = new google.maps.InfoWindow({
    content: contentString,
    maxWidth: 200
  });
  
    marker.addListener('click', function() {
    infowindow.open(map, marker);
  });
}




window.onload = function() {
		var fileInput = document.getElementById('fileInput');
		var fileDisplayArea = document.getElementById('fileDisplayArea');

		fileInput.addEventListener('change', function(e) {
			var file = fileInput.files[0];
			var textType = /text.*/;

			if (file.type.match(textType)) {
				var reader = new FileReader();

				reader.onload = function(e) {
					fileDisplayArea.innerText = reader.result;
					
					var lines = reader.result.split('\n');
					
					  for(var i = 0; i < lines.length; i++){
     						 console.log(lines[i]);						
    				}
				}

				reader.readAsText(file);	
			} else {
				fileDisplayArea.innerText = "File not supported!"
			}
		});
		
		
  	var map = new google.maps.Map(document.getElementById('map'), {
    	zoom: 10,
    	center: atlanta
  	});
	
  	var merchants = [atlanta, atlanta2];
  
    for (var i = 0; i < merchants.length; i++){
      addMarker(merchants[i], map, '<h2>' + 'testing' + '</h2>' + '<p>' + 'hi');
    }
		
		
  }

</script>

    
    
    
    
  </head>
  
  
  
  
  
  <body>
    <div id="map"></div>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDlcXnQW9Qg4smqSPdWiKB4oBuREUO2juA&signed_in=true&libraries=places&callback=initMap" async defer></script>
  </body>
  
  
  
</html>


